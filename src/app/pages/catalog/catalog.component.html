<div class="catalog-container">
  <h1 class="catalog-title">Katalog książek</h1>

  <!-- KATEGORIE (filtry) -->
  <div class="cat-filters">
    <button
      *ngFor="let c of categories"
      (click)="setCategory(c)"
      [class.active]="selectedCategory === c">
      {{ c }}
    </button>
    <button
      *ngIf="selectedCategory"
      (click)="setCategory('')">
      Reset
    </button>
  </div>

  <!-- SEARCH CONTROLS -->
  <div class="search-controls">
    <input [(ngModel)]="searchTitle"  placeholder="Title"  class="search-input"/>
    <input [(ngModel)]="searchAuthor" placeholder="Author" class="search-input"/>
    <input [(ngModel)]="selectedCategory" placeholder="Category" class="search-input"/>
    <button (click)="searchBooks()" class="search-button">Search</button>

    <select [(ngModel)]="sortOption" class="sort-select">
      <option value="titleAsc">Title A–Z</option>
      <option value="titleDesc">Title Z–A</option>
      <option value="authorAsc">Author A–Z</option>
      <option value="authorDesc">Author Z–A</option>
      <option value="newest">Newest First</option>
      <option value="oldest">Oldest First</option>
      <option value="rating">Highest Rating</option>
      <option value="reviews">Most Reviewed</option>
    </select>
  </div>

  <!-- LISTA KSIĄŻEK -->
  <div class="book-grid">
    <app-book-card *ngFor="let book of sortedBooks()" [book]="book"></app-book-card>
  </div>

  <!-- LOAD MORE -->
  <div class="load-more-container">
    <button (click)="loadMore()" [disabled]="loading" class="load-more-button">
      {{ loading ? 'Ładowanie…' : 'Pokaż więcej' }}
    </button>
  </div>
</div>
